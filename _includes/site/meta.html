{% if page.title %}
  {% assign cur_title = page.title | markdownify | strip_html | strip_newlines | escape_once %}
  {% if cur_title == "About" %}{% assign cur_title = "About " | append: site.title %}
    {% elsif cur_title == "Projects" %}{% assign cur_title = site.title | append: " Projects" %}
    {% elsif cur_title == "Blog" %}{% assign cur_title = site.title | append: " Blog" %}
  {% endif %}
{% else %}
  {% assign cur_title = site.title | append: " " | append: site.subtitle %}
{% endif %}

{% assign cur_canonical = page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url | replace:'http:','https:' %}
{% if page.excerpt %}
  {% assign cur_description = page.excerpt | markdownify | strip_html | strip_newlines | escape_once %}
{% else %}
  {% assign cur_description = site.description %}
{% endif %}

{% if page.tags %}
  {% assign cur_keywords = page.tags | join: ', ' %}
{% else %}
  {% assign cur_keywords = site.keywords %}
{% endif %}

{% if page.image.url %}
  {% capture image %}{{ page.image.url }}{% endcapture %}
  {% unless image contains 'http://' or image contains 'https://' %}
    {% capture image %}{{ site.url }}/{{ image }}{% endcapture %}
  {% endunless %}
  {% assign cur_image = image %}
{% else %}
  {% assign cur_image = site.logo %}
{% endif %}

<title>{{ cur_title }}</title>
<link rel="canonical" href="{{ cur_canonical }}">
<meta name="description" content="{{ cur_description }}">
<meta name="keywords" content="{{ cur_keywords }}">
<meta name="robots" content="index,follow">

<!-- Icons generated by RealFaviconGenerator.net -->
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<!-- WebApp Settings -->
<link rel="manifest" href="/site.webmanifest">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#043846">

<!-- Dublin Core -->
<meta name="dc.language" content="{{ site.language }}">
<meta name="dc.source" content="{{ site.url }}">
<meta name="dc.relation" content="{{ site.relation }}">
<meta name="dc.title" content="{{ cur_title }}">
<meta name="dc.keywords" content="{{ cur_keywords }}">
<meta name="dc.subject" content="{{ cur_description }}">
<meta name="dc.description" content="{{ cur_description }}">
<meta name="dcterms.rights" content="{{ site.copyright }}">

<!-- Open Graph -->
<meta property="og:locale" content="{{ site.locale }}">
<meta property="og:type" content="article">
<meta property="og:title" content="{{ cur_title }}">
<meta property="og:description" content="{{ cur_description }}">
<meta property="og:url" content="{{ page.url | replace:'index.html', '' | prepend: site.url }}">
<meta property="og:site_name" content="{{ site.title }}">
<meta property="og:image" content="{{ site.url }}/images/{{ site.logo }}">

<!-- Geo -->
<meta name="geo.country" content="DE">

<!-- Mobile -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Try to use Chrome on IE -->
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<!-- Twitter Cards -->
{% if page.image %}<meta name="twitter:card" content="summary_large_image">
{% else %}<meta name="twitter:card" content="summary">{% endif %}
<meta name="twitter:image" content="{{ cur_image }}">
<meta name="twitter:title" content="{{ cur_title }}">
<meta name="twitter:description" content="{{ cur_description }}">
<meta name="twitter:site" content="@{{ site.twitter }}">
<meta name="twitter:creator" content="@{{ site.twitter }}">

<!-- Feed -->
{% feed_meta %}
